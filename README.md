# GoldElegance - Система отчетности для декораторского бизнеса

Современное веб-приложение для управления заказами и отчетностью в сфере декорации.

## Функциональность

- Управление заказами
  - Добавление новых заказов
  - Отслеживание расходов по каждому заказу
  - Автоматический расчет прибыли
  - Распределение прибыли по процентам (50%, 40%, 10%)

- Отчетность
  - Графики доходов и расходов
  - Фильтрация по датам
  - Экспорт отчетов в Excel
  - Общая статистика по выбранному периоду

## Технологии

- Next.js
- TypeScript
- Prisma (PostgreSQL)
- Tailwind CSS
- Chart.js
- React Icons
- XLSX

## Требования

1. Node.js (версия 14 или выше)
2. PostgreSQL (версия 12 или выше)
3. npm или yarn

## Установка

1. Установите PostgreSQL:
   - Скачайте и установите PostgreSQL с [официального сайта](https://www.postgresql.org/download/)
   - Создайте новую базу данных:
     ```sql
     CREATE DATABASE goldelegance;
     ```

2. Клонируйте репозиторий:
   ```bash
   git clone [URL репозитория]
   cd goldelegance
   ```

3. Настройте переменные окружения:
   - Скопируйте файл `.env.example` в `.env`
   - Отредактируйте `.env`, указав правильные данные для подключения к вашей базе данных

4. Установите зависимости:
   ```bash
   npm install
   ```

5. Примените миграции базы данных:
   ```bash
   npx prisma migrate dev
   ```

6. Запустите приложение:
   ```bash
   npm run dev
   ```

7. Откройте браузер и перейдите по адресу: http://localhost:3000

## Структура проекта

```
goldelegance/
├── components/          # React компоненты
├── pages/              # Страницы приложения
│   ├── api/           # API endpoints
│   ├── orders/        # Страницы заказов
│   └── reports/       # Страницы отчетов
├── prisma/            # Схема базы данных
├── styles/            # CSS стили
└── public/            # Статические файлы
```

## База данных

Проект использует PostgreSQL в качестве основной базы данных. Схема базы данных определена в файле `prisma/schema.prisma`.

### Основные таблицы:
- `Order` - информация о заказах
- `Expense` - расходы по заказам

### Миграции

Для управления структурой базы данных используется Prisma Migrate. Основные команды:

```bash
# Создание новой миграции
npx prisma migrate dev --name название_миграции

# Применение миграций
npx prisma migrate deploy

# Просмотр состояния базы данных
npx prisma studio
```

## Разработка

- Для добавления новых функций создавайте отдельную ветку
- Следуйте принятым правилам оформления кода
- Тестируйте изменения перед отправкой в основную ветку

## Лицензия

MIT 